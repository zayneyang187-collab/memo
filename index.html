<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>我的待办清单</title>
    <meta name="theme-color" content="#37b89d" />
    <link rel="manifest" href="manifest.json" />
    <link rel="icon" href="icon.svg" type="image/svg+xml" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="wrap">
      <section class="card">
        <h1>我的待办清单</h1>
        <p class="subtitle">记录今天的小目标，让完成更有成就感</p>

        <div class="top-grid">
          <!-- 输入区域 -->
          <div class="input-panel">
            <div class="input-row">
              <input id="task-input" type="text" placeholder="写下一个新任务..." />
              <button id="add-button" class="btn btn-add">添加</button>
            </div>
            <p class="hint">按回车也可以快速添加任务</p>
            <div id="toast" class="toast" aria-live="polite">
              <span class="toast-check">✓</span>
              任务添加成功
            </div>
          </div>

          <!-- 任务统计 -->
          <div class="stats">
            <div class="stat-card">
              <div class="stat-top">
                <span class="stat-dot"></span>
                <span class="stat-label">全部任务</span>
              </div>
              <div id="count-total" class="stat-value">0</div>
            </div>

            <div class="stat-card">
              <div class="stat-top">
                <span class="stat-dot dot-pending"></span>
                <span class="stat-label">待完成</span>
              </div>
              <div id="count-pending" class="stat-value">0</div>
            </div>

            <div class="stat-card">
              <div class="stat-top">
                <span class="stat-dot dot-done"></span>
                <span class="stat-label">已完成</span>
              </div>
              <div id="count-done" class="stat-value">0</div>
            </div>

            <div class="stat-card">
              <div class="stat-top">
                <span class="stat-dot dot-deleted"></span>
                <span class="stat-label">已删除</span>
              </div>
              <div id="count-deleted" class="stat-value">0</div>
            </div>
          </div>
        </div>

        <!-- 筛选栏 -->
        <div class="filter-bar">
          <div class="filter-left">
            <span class="filter-label">按日期筛选</span>
            <input id="filter-date" class="filter-date" type="date" />
            <div class="filter-menu-wrap">
              <button
                id="filter-menu-button"
                class="btn btn-small btn-ghost filter-menu-button"
                type="button"
              >
                快速筛选
              </button>
              <div id="filter-menu" class="filter-menu is-hidden">
                <button class="filter-menu-item" type="button" data-days="3">
                  最近 3 天
                </button>
                <button class="filter-menu-item" type="button" data-days="7">
                  最近 7 天
                </button>
                <button class="filter-menu-item" type="button" data-days="30">
                  最近 30 天
                </button>
              </div>
            </div>
            <button
              id="report-generate"
              class="btn btn-small btn-ghost is-hidden"
              type="button"
            >
              生成周报
            </button>
          </div>
          <div class="filter-actions">
            <button id="filter-clear" class="btn btn-small btn-ghost">清除筛选</button>
          </div>
        </div>

        <!-- 周报区域 -->
        <div id="report-panel" class="report-panel is-hidden">
          <div id="report-content" class="report-content">暂无内容</div>
          <div class="report-actions">
            <button id="report-copy" class="btn btn-small btn-ghost" type="button">
              复制总结
            </button>
            <button id="report-copy-ai" class="btn btn-small btn-ghost" type="button">
              复制润色提示
            </button>
          </div>
          <div class="report-hint">
            小提示：你可以把“润色提示”粘贴到大模型中，让它帮你优化表述。
          </div>
        </div>

        <!-- 待完成：示例数据 -->
        <div class="section section-pending">
          <div class="section-header">
            <div class="section-title-row">
              <button
                class="btn btn-toggle"
                type="button"
                data-target="pending-list"
                aria-label="折叠或展开"
              ></button>
              <h2 class="section-title">待完成</h2>
            </div>
            <span class="toggle-status">已展开</span>
          </div>
          <div id="pending-list" class="list">
          <div class="item">
            <div class="item-title">阅读 30 分钟，做 3 条读书笔记</div>
            <div class="actions">
              <button class="btn btn-small btn-done">完成</button>
              <button class="btn btn-small btn-del">删除</button>
            </div>
          </div>

          <div class="item">
            <div class="item-title">整理桌面和文件夹，保持清爽</div>
            <div class="actions">
              <button class="btn btn-small btn-done">完成</button>
              <button class="btn btn-small btn-del">删除</button>
            </div>
          </div>

          <div class="item">
            <div class="item-title">晚饭后散步 20 分钟</div>
            <div class="actions">
              <button class="btn btn-small btn-done">完成</button>
              <button class="btn btn-small btn-del">删除</button>
            </div>
          </div>
        </div>
        </div>

        <!-- 已完成 -->
        <div class="section section-done">
          <div class="section-header">
            <div class="section-title-row">
              <button
                class="btn btn-toggle"
                type="button"
                data-target="done-list"
                aria-label="折叠或展开"
              ></button>
              <h2 class="section-title">已完成</h2>
            </div>
            <span class="toggle-status">已展开</span>
          </div>
          <div id="done-list" class="list"></div>
        </div>

        <!-- 已删除 -->
        <div class="section section-deleted">
          <div class="section-header">
            <div class="section-title-row">
              <button
                class="btn btn-toggle is-collapsed"
                type="button"
                data-target="deleted-list"
                aria-label="折叠或展开"
              ></button>
              <h2 class="section-title">已删除</h2>
            </div>
            <span class="toggle-status">已折叠</span>
          </div>
          <div id="deleted-list" class="list is-collapsed"></div>
        </div>
      </section>
    </main>
    <script src="app.js"></script>
  </body>
</html>

